(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2cb26605"],{"004c":function(e,t,r){"use strict";r.r(t),r("20d6"),r("7f7f");var i=(r("8e6e"),r("456d"),r("6762"),r("2fdb"),r("ade3")),a=(r("96cf"),r("1da1")),n=(r("ac6a"),r("5df3"),r("f400"),r("0132")),s=r("d9e1"),o=r("365c"),c=r("cebe"),u=r.n(c),l=r("ca00");var h=r("a38e");function f(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Object(h.a)(i.key),i)}}var d=function(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}),[{key:"set",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={value:t,expiry:r?Date.now()+r:null};localStorage.setItem(e,JSON.stringify(i))}},{key:"get",value:function(e){var t=localStorage.getItem(e);if(!t)return null;var r=JSON.parse(t),i=Date.now();return r.expiry&&i>r.expiry?(localStorage.removeItem(e),null):r.value}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"clearAll",value:function(){localStorage.clear()}}]),p=r("cb18"),m=r("c919"),v=r("cd14");function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b={name:"CheckDetailShare",components:{MoiHeader:n.a,MoiVerifyInput:p.a},mixins:[s.a,m.a],data:function(){return{loading:!1,reportImgUrl:"",shareUrl:"",shareExpire:!1,shareParam:null,imageThumbUrl:"",dicomProvider:"",isShowAdvice:!1,reportDescribeDefaultText:"",reportDiagnoseDefatultText:"",studyId:"",device:"",items:"",report:"",film:"",appointment:"",titleName:"",useVerifyCode:!0,verifyed:!1,verifyCode:null,validationRules:[{validator:function(e){return!!e&&e.length>0},message:"请填写分享验证码"},{validator:function(e){return 4===e.length},message:"请填写4位密码"}],checkLoading:!1,caches:new d,isUseRepeatCheck:!0,serverErrorMessage:"",waterMarkStyle:{},shareRemain:"",waterMarkConfig:{},isShow:!0}},computed:{orderText:function(){var e=this,t=this.$orderText.findIndex((function(t){return e.unitId===t.unitId}));return t>-1?this.$orderText[t].text:this.appointment?"".concat(this.appointment,"："):"预约："},patientName:function(){var e,t;return(null===(e=this.shareParam)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.patientName)||""},sex:function(){var e,t;return(null===(e=this.shareParam)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.sex)||""},useAnonymous:function(){var e,t;return(null===(e=this.shareParam)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.useAnonymous)||!1},remainText:function(){var e=new Map([["days","天"],["hours","时"],["minutes","分"],["seconds","秒"]]),t="";for(var r in this.shareRemain)0!=this.shareRemain[r]&&(t+="".concat(this.shareRemain[r]).concat(e.get(r)));return t}},methods:{refresh:function(){this.init(!0)},goReport:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.hasReport&&!this.useAnonymous&&(t="./index.html#/check-report?xeguId=".concat(this.checkDetail.fileId?this.checkDetail.fileId:this.checkDetail.xeguid,"&unitId=").concat(this.unitId,"&imgUrl=").concat(encodeURIComponent(this.reportImgUrl),"&shareId=").concat(this.shareParam.data.shareId),window.location.href=t);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),goFilm:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(){var t,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getShareUrl();case 3:e.sent,e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(0),"分享时间过期"!==e.t0){e.next=13;break}return this.shareExpire=!0,e.abrupt("return");case 13:if(!this.requestToken){e.next=15;break}return e.abrupt("return");case 15:if(!this.hasFilm){e.next=36;break}return e.prev=16,this.requestToken=!0,e.next=20,o.a.getFilmToken(this.xeguId);case 20:if(this.filmToken=e.sent,t="",r=Object(l.f)("userRole",this.filmPageUrl),i={xeguid:this.checkDetail.mitsXeguId?this.checkDetail.mitsXeguId:this.checkDetail.xeguid,hospitalid:this.unitId,token:this.filmToken,sUrl:this.filmSocketUrl,s3d:this.filmSocketUrl_3D||"",msgsUrl:this.messageUrl,hpi:this.useAnonymous?1:"",syn:"",titleName:this.titleName},r&&(i.userRole=r),t="".concat(this.filmPageUrl,"&").concat(Object(v.a)(i)),"/check-detail-share"===this.$route.path){e.next=28;break}return e.abrupt("return");case 28:window.location.href=t,this.requestToken=!1,e.next=36;break;case 32:e.prev=32,e.t1=e.catch(16),this.requestToken=!1;case 36:case"end":return e.stop()}}),e,this,[[0,7],[16,32]])})));return function(){return e.apply(this,arguments)}}(),getShareUrl:function(){var e=this;return new Promise((function(t,r){u.a.post(e.baseURL+"/share/v1/Share/getShareUrl",{data:{id:e.shareId}}).then((function(e){var i=e.data,a=i.subCode,n=i.subMsg,s=i.data;if("SUCCESS"===a){var o=s.url,c=JSON.parse(s.param),u=s.useVerifyCode||"",l=s.remain;t({shareUrl:o,shareParam:c,useVerifyCode:u,shareRemain:l})}else r(n)})).catch((function(e){r("网络异常，请稍候重试！")}))}))},getCheckDetail:function(e,t){var r=this;return new Promise((function(i,a){u.a.post(e,t).then((function(e){var t=e.data,n=t.subCode,s=t.subMsg,o=t.data;"SUCCESS"===n?(r.checkDetail=o,r.filmPageUrl=o.imageUrl,r.filmSocketUrl=o.imageSocketUrl,r.reportImgUrl=o.reportUrl,r.filmSocketUrl_3D=o.threeDimensionalUrl,r.messageUrl=o.messageUrl,i()):a(s)}))}))},init:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){var r,i,a,n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.xeguId&&this.unitId&&this.shareId){e.next=3;break}return this.$Toast({message:"缺少必须参数",position:"top"}),e.abrupt("return");case 3:return t||(this.loading=!0),e.prev=4,e.next=7,this.getShareUrl();case 7:r=e.sent,i=r.shareUrl,a=r.shareParam,n=r.useVerifyCode,s=r.shareRemain,this.shareUrl=i,this.$set(this,"shareParam",a),this.useVerifyCode=n,this.shareRemain=s,this.useVerifyCode&&this.isUseRepeatCheck&&!t?this.loading=!1:(this.verifyed=!0,this.initGetDetail()),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(4),"分享时间过期"===e.t0&&(this.shareExpire=!0),this.loading=!1;case 24:return e.prev=24,t&&this.$refs.loadmore.onTopLoaded(),e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[4,19,24,27]])})));return function(t){return e.apply(this,arguments)}}(),initGetDetail:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){var r,i,n,s,c,u,h,f,d,p,m,v=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}if(this.$refs["verify-input"].validate()){e.next=3;break}return e.abrupt("return");case 3:this.checkLoading=!0;case 4:return this.isUseRepeatCheck||(this.verifyCode=this.caches.get(window.location.href)),e.prev=5,r=y(y({},this.shareParam),{},{data:y(y({},this.shareParam.data),{},{verifyCode:this.useVerifyCode?this.verifyCode:null})}),e.next=9,this.getCheckDetail(this.shareUrl,r);case 9:if(this.checkDetail.canSeeValidStudy){e.next=14;break}return this.isShow=!1,this.$MessageBox.alert("检查时间超过".concat(this.checkDetail.validPeriod,"天，查看时效已过期")).then((function(e){l.n||l.o?wx.closeWindow():v.$router.go(-1)})),e.abrupt("return");case 14:return"",i=this.$route.query.unitId.indexOf("验")>-1?this.$route.query.unitId.slice(0,this.$route.query.unitId.indexOf("验")):this.$route.query.unitId,o.a.queryWatermarkConfig({data:{unitId:i,userType:0},page:1,size:10}).then(function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.waterMarkConfig=t.list[0],!v.waterMarkConfig){e.next=9;break}return(r=v.splitStrIntoObj(v.waterMarkConfig.fontProperties)).text=v.waterMarkConfig.watermarkContent,e.next=7,v.watermarkImage(r);case 7:v.waterMarkUrl=e.sent,v.waterMarkStyle={position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundRepeat:"repeat",pointerEvents:"none",backgroundImage:"url(".concat(v.waterMarkUrl,")"),zIndex:200};case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=19,this.$store.dispatch("getTextConfig",{unitId:i,keyName:["reportDescribeDefaultText","reportDiagnoseDefatultText","studyId","device","items","report","film","appointment"]});case 19:return n=e.sent,s=n.reportDescribeDefaultText,c=n.reportDiagnoseDefatultText,u=n.studyId,h=n.device,f=n.items,d=n.report,p=n.film,m=n.appointment,this.reportDescribeDefaultText=s,this.reportDiagnoseDefatultText=c,this.studyId=u,this.device=h,this.items=f,this.report=d,this.film=p,this.appointment=m,this.titleName=window.sessionStorage.getItem("titleName")?window.sessionStorage.getItem("titleName"):"锐达医疗",e.next=39,o.a.getFilmToken(this.checkDetail.xeguid);case 39:this.filmToken=e.sent,this.dicomProvider=new CDicomProvider(this.filmSocketUrl,"xx",this.filmToken,this.unitId),this.dicomProvider.getStudyThumbAsync(this.checkDetail.mitsXeguId?this.checkDetail.mitsXeguId:this.checkDetail.xeguid).then((function(e){var t=window.URL.createObjectURL(e);v.imageThumbUrl=t})).catch((function(e){v.imageThumbUrl=""})),this.verifyed=!0,this.loading=!1,this.checkLoading=!1,this.$Toast({message:"剩余查看时间还有".concat(this.remainText),position:"center"}),this.serverErrorMessage="",this.isUseRepeatCheck&&this.caches.set(window.location.href,this.verifyCode,864e5),e.next=57;break;case 51:e.prev=51,e.t0=e.catch(5),"分享时间过期"===e.t0&&(this.shareExpire=!0),"验证码校验失败"===e.t0&&(this.serverErrorMessage="请输入正确验证码"),this.checkLoading=!1,this.loading=!1;case 57:case"end":return e.stop()}}),e,this,[[5,51]])})));return function(t){return e.apply(this,arguments)}}()},mounted:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.caches.get(window.location.href),this.isUseRepeatCheck=null===t,this.init(),this.$showAdviceArray.includes(this.$route.query.unitId)&&(this.isShowAdvice=!0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),beforeRouteEnter:function(e,t,r){var i=window.sessionStorage.getItem("serverConfig")?JSON.parse(window.sessionStorage.getItem("serverConfig")).noOpen:[];if(i&&i.indexOf(e.query.unitId)>-1&&"patient"===window.sessionStorage.getItem("entryType")){window.location.href="./noOpen.html"}else r()}},k=(r("87f0"),r("2877")),C=Object(k.a)(b,(function(){var e=this,t=this,i=t._self._c;return t.loading?i("moi-loading",{attrs:{text:"加载中..."}}):i("div",{staticClass:"moi-check-detail share"},[t.shareExpire?[i("div",{staticClass:"share-expire"},[i("img",{attrs:{src:r("224a"),alt:""}}),i("p",[t._v("分享内容已过期")])])]:[i("moi-header",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],attrs:{title:"检查详情","back-text":"",menu:!1}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.checkLoading&&t.verifyed&&t.isShow,expression:"!checkLoading && verifyed && isShow"}],staticClass:"container"},[i("div",{staticClass:"waterMark",style:t.waterMarkStyle}),i("div",{staticClass:"patient-info"},[i("div",{staticClass:"base-info"},[i("div",{staticClass:"patient-info__sex"},["男"===t.checkDetail.sex?i("img",{attrs:{src:r("7083"),alt:""}}):"女"===t.checkDetail.sex?i("img",{attrs:{src:r("64db"),alt:""}}):t._e()]),i("div",{staticClass:"patient-info__right"},[i("div",{staticClass:"patient-info__user"},[i("p",[i("span",{staticClass:"name"},[t._v(t._s(t.checkDetail.name))]),i("span",{staticClass:"age"},[t._v(t._s(t.checkDetail.age)+t._s(t.checkDetail.ageUnit))]),t.checkDetail.patientTypeName?i("span",{staticClass:"type"},[t._v(t._s(t.checkDetail.patientTypeName))]):t._e()])]),i("div",{staticClass:"patient-info__item"},[i("label",[t._v(t._s(t.studyId?"".concat(t.studyId,"："):"ID号："))]),i("span",[t._v(t._s(t.checkDetail.studyId))])]),i("div",{staticClass:"patient-info__item"},[i("label",[t._v(t._s(t.device?"".concat(t.device,"："):"设备："))]),i("span",[t._v(t._s(t.checkDetail.device))])])])]),i("div",{staticClass:"parts-info"},[i("label",[t._v(t._s(t.items?"".concat(t.items,"："):"项目："))]),i("p",[t._v(t._s(t.checkDetail.describe))])])]),i("ul",{ref:"status-steps",staticClass:"status-steps",class:[t.hasReport?"report":t.hasFilm?"film":"start"]},[i("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.refresh,autoFill:!1},on:{"top-status-change":t.handleTopChange}},[i("div",{staticClass:"mint-loadmore-top",attrs:{slot:"top"},slot:"top"},["drop"===t.topStatus?i("span",[t._v("释放更新")]):"pull"===t.topStatus?i("span",[t._v("下拉刷新")]):"loading"===t.topStatus?i("div",{staticClass:"mint-loading"},[i("img",{attrs:{src:r("04fa")}})]):t._e()]),i("li",{staticClass:"step report"},[i("div",{staticClass:"header"},[i("div",{staticClass:"header__left"},[i("div",{staticClass:"step-name"},[t._v("\n                  "+t._s(t.report?"".concat(t.report,"："):"报告：")+"\n                ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.hasReport,expression:"hasReport"}],staticClass:"step-time"},[t._v("\n                  "+t._s(t.$timeCustom.findIndex((function(t){return t.unitId===e.unitId}))>-1?t.$moment(t.reportTime).format(t.$timeCustom[t.$timeCustom.findIndex((function(t){return t.unitId===e.unitId}))].timeFormat):t.reportTime)+"\n                ")])]),t.checkDetail.canSeeReport&&!t.useAnonymous?i("div",{staticClass:"header__right"},[i("button",{staticClass:"step__btn",attrs:{disabled:!t.hasReport},on:{click:t.goReport}},[t._v("\n                  查看报告单\n                ")])]):t._e()]),t.checkDetail.canSeeReport?i("div",{staticClass:"body",on:{click:t.goReport}},[t.hasReport?[i("div",{staticClass:"body__item"},[i("p",{staticClass:"item__title"},[t._v("\n                    "+t._s(t.reportDescribeDefaultText||"影像描述")+"：\n                  ")]),i("p",{staticClass:"item__text"},[t._v(t._s(t.reportDescribe))])]),i("div",{staticClass:"body__item"},[i("p",{staticClass:"item__title"},[t._v("\n                    "+t._s(t.reportDiagnoseDefatultText||"诊断建议")+"：\n                  ")]),i("p",{staticClass:"item__text"},[t._v(t._s(t.reportDiagnose))])]),t.isShowAdvice?i("div",{staticClass:"body__item"},[i("p",{staticClass:"item__title"},[t._v("医生建议：")]),i("p",{staticClass:"item__text"},[t._v(t._s(t.reportAdvice))])]):t._e()]:i("p",{staticClass:"empty"},[t._v("您的报告还未完成，请稍候...")])],2):i("div",{staticClass:"body"},[i("div",{staticClass:"empt-delay-body"},[i("img",{staticClass:"empt-delay-img",attrs:{src:r("8d01"),alt:""}})]),i("p",{staticClass:"empt-delay"},[t._v(t._s(t.checkDetail.reportText))])])]),i("li",{staticClass:"step film"},[i("div",{staticClass:"header"},[i("div",{staticClass:"header__left"},[i("div",{staticClass:"step-name"},[t._v("\n                  "+t._s(t.film?"".concat(t.film,"："):"影像：")+"\n                ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.hasFilm,expression:"hasFilm"}],staticClass:"step-time"},[t._v("\n                  "+t._s(t.$timeCustom.findIndex((function(t){return t.unitId===e.unitId}))>-1?t.$moment(t.studyTime).format(t.$timeCustom[t.$timeCustom.findIndex((function(t){return t.unitId===e.unitId}))].timeFormat):t.studyTime)+"\n                ")])]),this.checkDetail.canSeeImage?i("div",{staticClass:"header__right"},[i("button",{staticClass:"step__btn",attrs:{disabled:!t.hasFilm},on:{click:t.goFilm}},[t._v("\n                  查看影像\n                ")])]):t._e()]),this.checkDetail.canSeeImage?i("div",{staticClass:"body"},[t.hasFilm?i("img",{staticClass:"study-thumb",attrs:{id:"studyThumb",src:t.imageThumbUrl,alt:""},on:{click:t.goFilm}}):i("p",{staticClass:"empty"},[t._v("您的影像还未完成，请稍候...")])]):i("div",{staticClass:"body"},[i("div",{staticClass:"empt-delay-body"},[i("img",{staticClass:"empt-delay-img",attrs:{src:r("8d01"),alt:""}})]),i("p",{staticClass:"empt-delay"},[t._v(t._s(t.checkDetail.imageText))])])]),i("li",{staticClass:"step start"},[i("div",{staticClass:"header noborder"},[i("div",{staticClass:"header__left"},[i("div",{staticClass:"step-name"},[t._v(t._s(t.orderText))]),i("div",{staticClass:"step-time"},[t._v("\n                  "+t._s(t.$timeCustom.findIndex((function(t){return t.unitId===e.unitId}))>-1?t.$moment(t.registerTime).format(t.$timeCustom[t.$timeCustom.findIndex((function(t){return t.unitId===e.unitId}))].timeFormat):t.registerTime)+"\n                ")])])])])])],1)]),t.checkLoading?i("moi-loading",{attrs:{text:"加载中..."}}):t._e(),t.loading||!t.useVerifyCode||t.verifyed?t._e():i("div",{staticClass:"container"},[i("div",{staticClass:"share-verify"},[i("img",{attrs:{src:r("a424"),alt:"",id:"share-verify-shield"}}),i("div",{staticClass:"share-verfiy-des"},[i("div",{staticClass:"share-verfiy-des_item"},[i("div",{staticClass:"share-info-des"},[t._v(t._s(t.patientName)+"，"+t._s(t.sex))]),i("div",[t._v("影像分享")])]),i("div",{staticClass:"share-verfiy-des_item"},[t._v("\n            请先完成验证后查看影像报告。\n          ")])]),i("div",{staticClass:"share-verify-area"},[i("div",{staticClass:"share-verify-title share-verify-item"},[t._v("分享验证码")]),i("div",{staticClass:"share-verify-tip share-verify-item"},[t._v("\n            请输入分享码进行验证\n          ")]),i("div",{staticClass:"share-verify-input share-verify-item"},[i("div",{staticClass:"verify-input"},[i("moi-verify-input",{ref:"verify-input",attrs:{maxlength:4,apiErrorMessage:t.serverErrorMessage,rules:t.validationRules},on:{"update:apiErrorMessage":function(e){t.serverErrorMessage=e},"update:api-error-message":function(e){t.serverErrorMessage=e}},model:{value:t.verifyCode,callback:function(e){t.verifyCode=e},expression:"verifyCode"}})],1),i("div",{staticClass:"share-verify-btn",on:{click:function(e){return t.initGetDetail(!0)}}},[t._v("\n              确定\n            ")])])])])])]],2)}),[],!1,null,null,null);t.default=C.exports},"04fa":function(e,t,r){e.exports=r.p+"img/pull-loading.cbb0cce0.gif"},"1c4c":function(e,t,r){"use strict";var i=r("9b43"),a=r("5ca1"),n=r("4bf8"),s=r("1fa8"),o=r("33a4"),c=r("9def"),u=r("f1ae"),l=r("27ee");a(a.S+a.F*!r("5cc5")((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,a,h,f=n(e),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=0,y=l(f);if(v&&(m=i(m,p>2?arguments[2]:void 0,2)),null==y||d==Array&&o(y))for(r=new d(t=c(f.length));t>g;g++)u(r,g,v?m(f[g],g):f[g]);else for(h=y.call(f),r=new d;!(a=h.next()).done;g++)u(r,g,v?s(h,m,[a.value,g],!0):a.value);return r.length=g,r}})},"224a":function(e,t,r){e.exports=r.p+"img/share-expire.09696519.png"},"37c8":function(e,t,r){t.f=r("2b4c")},"3a72":function(e,t,r){var i=r("7726"),a=r("8378"),n=r("2d00"),s=r("37c8"),o=r("86cc").f;e.exports=function(e){var t=a.Symbol||(a.Symbol=n?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:s.f(e)})}},"7bbc9":function(e,t,r){var i=r("6821"),a=r("9093").f,n={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==n.call(e)?function(e){try{return a(e)}catch(e){return s.slice()}}(e):a(i(e))}},"7fed":function(e,t,r){},"87f0":function(e,t,r){"use strict";r("7fed")},"8a81":function(e,t,r){"use strict";var i=r("7726"),a=r("69a8"),n=r("9e1e"),s=r("5ca1"),o=r("2aba"),c=r("67ab").KEY,u=r("79e5"),l=r("5537"),h=r("7f20"),f=r("ca5a"),d=r("2b4c"),p=r("37c8"),m=r("3a72"),v=r("d4c0"),g=r("1169"),y=r("cb7c"),b=r("d3f4"),k=r("4bf8"),C=r("6821"),_=r("6a99"),x=r("4630"),I=r("2aeb"),w=r("7bbc9"),S=r("11e9"),D=r("2621"),O=r("86cc"),T=r("0d58"),U=S.f,E=O.f,P=w.f,R=i.Symbol,N=i.JSON,j=N&&N.stringify,$="prototype",A=d("_hidden"),M=d("toPrimitive"),F={}.propertyIsEnumerable,V=l("symbol-registry"),q=l("symbols"),L=l("op-symbols"),J=Object[$],B="function"==typeof R&&!!D.f,G=i.QObject,X=!G||!G[$]||!G[$].findChild,z=n&&u((function(){return 7!=I(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a}))?function(e,t,r){var i=U(J,t);i&&delete J[t],E(e,t,r),i&&e!==J&&E(J,t,i)}:E,W=function(e){var t=q[e]=I(R[$]);return t._k=e,t},Y=B&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Z=function(e,t,r){return e===J&&Z(L,t,r),y(e),t=_(t,!0),y(r),a(q,t)?(r.enumerable?(a(e,A)&&e[A][t]&&(e[A][t]=!1),r=I(r,{enumerable:x(0,!1)})):(a(e,A)||E(e,A,x(1,{})),e[A][t]=!0),z(e,t,r)):E(e,t,r)},H=function(e,t){y(e);for(var r,i=v(t=C(t)),a=0,n=i.length;n>a;)Z(e,r=i[a++],t[r]);return e},K=function(e){var t=F.call(this,e=_(e,!0));return!(this===J&&a(q,e)&&!a(L,e))&&(!(t||!a(this,e)||!a(q,e)||a(this,A)&&this[A][e])||t)},Q=function(e,t){if(e=C(e),t=_(t,!0),e!==J||!a(q,t)||a(L,t)){var r=U(e,t);return!r||!a(q,t)||a(e,A)&&e[A][t]||(r.enumerable=!0),r}},ee=function(e){for(var t,r=P(C(e)),i=[],n=0;r.length>n;)a(q,t=r[n++])||t==A||t==c||i.push(t);return i},te=function(e){for(var t,r=e===J,i=P(r?L:C(e)),n=[],s=0;i.length>s;)!a(q,t=i[s++])||r&&!a(J,t)||n.push(q[t]);return n};B||(o((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===J&&t.call(L,r),a(this,A)&&a(this[A],e)&&(this[A][e]=!1),z(this,e,x(1,r))};return n&&X&&z(J,e,{configurable:!0,set:t}),W(e)})[$],"toString",(function(){return this._k})),S.f=Q,O.f=Z,r("9093").f=w.f=ee,r("52a7").f=K,D.f=te,n&&!r("2d00")&&o(J,"propertyIsEnumerable",K,!0),p.f=function(e){return W(d(e))}),s(s.G+s.W+s.F*!B,{Symbol:R});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;re.length>ie;)d(re[ie++]);for(var ae=T(d.store),ne=0;ae.length>ne;)m(ae[ne++]);s(s.S+s.F*!B,"Symbol",{for:function(e){return a(V,e+="")?V[e]:V[e]=R(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){X=!0},useSimple:function(){X=!1}}),s(s.S+s.F*!B,"Object",{create:function(e,t){return void 0===t?I(e):H(I(e),t)},defineProperty:Z,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var se=u((function(){D.f(1)}));s(s.S+s.F*se,"Object",{getOwnPropertySymbols:function(e){return D.f(k(e))}}),N&&s(s.S+s.F*(!B||u((function(){var e=R();return"[null]"!=j([e])||"{}"!=j({a:e})||"{}"!=j(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,i=[e],a=1;arguments.length>a;)i.push(arguments[a++]);if(r=t=i[1],(b(t)||void 0!==e)&&!Y(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Y(t))return t}),i[1]=t,j.apply(N,i)}}),R[$][M]||r("32e9")(R[$],M,R[$].valueOf),h(R,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},"8d01":function(e,t,r){e.exports=r.p+"img/delay.af1f416e.png"},a424:function(e,t,r){e.exports=r.p+"img/share-verify-shield.afac4c38.png"},aa77:function(e,t,r){var i=r("5ca1"),a=r("be13"),n=r("79e5"),s=r("fdef"),o="["+s+"]",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),l=function(e,t,r){var a={},o=n((function(){return!!s[e]()||"​"!="​"[e]()})),c=a[e]=o?t(h):s[e];r&&(a[r]=c),i(i.P+i.F*o,"String",a)},h=l.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},ac4d:function(e,t,r){r("3a72")("asyncIterator")},acf8:function(e,t,r){},c5f6:function(e,t,r){"use strict";var i=r("7726"),a=r("69a8"),n=r("2d95"),s=r("5dbc"),o=r("6a99"),c=r("79e5"),u=r("9093").f,l=r("11e9").f,h=r("86cc").f,f=r("aa77").trim,d="Number",p=i[d],m=p,v=p.prototype,g=n(r("2aeb")(v))==d,y="trim"in String.prototype,b=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){var r,i,a,n=(t=y?t.trim():f(t,3)).charCodeAt(0);if(43===n||45===n){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+t}for(var s,c=t.slice(2),u=0,l=c.length;u<l;u++)if((s=c.charCodeAt(u))<48||s>a)return NaN;return parseInt(c,i)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof p&&(g?c((function(){v.valueOf.call(r)})):n(r)!=d)?s(new m(b(t)),r,p):b(t)};for(var k,C=r("9e1e")?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;C.length>_;_++)a(m,k=C[_])&&!a(p,k)&&h(p,k,l(m,k));p.prototype=v,v.constructor=p,r("2aba")(i,d,p)}},c919:function(e,t,r){"use strict";t.a={methods:{watermarkImage:function(e){var t=e.width,r=e.height,i=e.text,a=e.fontSize,n=e.rotate;return new Promise((function(e,s){var o={opacity:1,font:"".concat(a,"px serif"),fillStyle:"rgb(229, 229, 229)"},c=r,u=t,l=Object.assign(document.createElement("canvas"),{width:u,height:c}),h=l.getContext("2d");h.globalAlpha=o.opacity,h.font=o.font,h.fillStyle=o.fillStyle,h.textAlign="center",h.rotate(-n*Math.PI/180),h.fillText(i,t/4,r/2);try{e(l.toDataURL())}catch(e){}}))}}}},cb18:function(e,t,r){"use strict";function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("7f7f"),r("6b54"),r("a481"),r("c5f6");var n={name:"MoiVerifyInput",props:{value:{type:String,default:""},required:{type:Boolean,default:!1},rules:{type:Array,default:function(){return[]}},maxlength:{type:Number,default:4},apiErrorMessage:{type:String,default:""},placeholder:{type:String,default:""}},data:function(){return{inputValue:this.value,isFocused:!1,isError:!1,errorMessage:""}},watch:{inputValue:function(e){if(!/^[a-zA-Z0-9]*$/.test(e))return this.inputValue=e.replace(/[^a-zA-Z0-9]/g,""),void this.validate();this.$emit("update:apiErrorMessage",""),this.$emit("input",e)},apiErrorMessage:function(e){this.isError=!!e}},methods:{handleFocus:function(){this.isFocused=!0},handleBlur:function(){this.isFocused=!1,this.validate()},validate:function(){if(this.isError=!1,this.errorMessage="",this.required&&!this.inputValue)return this.isError=!0,this.errorMessage="This field is required.",!1;var e,t=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw s}}}}(this.rules);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(!r.validator(this.inputValue))return this.isError=!0,this.errorMessage=r.message,!1}}catch(e){t.e(e)}finally{t.f()}return!0}}},s=(r("f2ac"),r("2877")),o=Object(s.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],staticClass:"verifyCode-input",class:{"is-focus":e.isFocused,"is-error":e.isError},attrs:{required:e.required,maxlength:e.maxlength,placeholder:e.placeholder},domProps:{value:e.inputValue},on:{focus:e.handleFocus,blur:e.handleBlur,input:[function(t){t.target.composing||(e.inputValue=t.target.value)},e.validate]}}),e._t("default"),t("div",{staticClass:"error-message"},[e._v("\n    "+e._s(e.errorMessage||e.apiErrorMessage||" ")+"\n  ")])],2)}),[],!1,null,"8df91b72",null);t.a=o.exports},cd14:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r("ac6a"),r("456d");var i=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]})).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")}},d4c0:function(e,t,r){var i=r("0d58"),a=r("2621"),n=r("52a7");e.exports=function(e){var t=i(e),r=a.f;if(r)for(var s,o=r(e),c=n.f,u=0;o.length>u;)c.call(e,s=o[u++])&&t.push(s);return t}},d9e1:function(e,t,r){"use strict";r("ac6a"),r("28a5"),r("a481"),r("20d6");var i=r("ca00");t.a={data:function(){return{xeguId:this.$route.query.xeguId||"",unitId:this.$route.query.unitId||"",shareId:this.$route.query.shareId||"",isJump:this.$route.query.isJump||"",filmPageUrl:"",filmSocketUrl:"",filmToken:"",filmSocketUrl_3D:"",messageUrl:"",checkDetail:{},topStatus:"",loading:!0}},computed:{showShareBtn:function(){var e=this;return this.$showShareBtnUnitIdList.findIndex((function(t){return t===e.checkDetail.radUnitId}))>-1},showDownBtn:function(){var e=this,t=this.$isOpenOriginalFnList.findIndex((function(t){return t.unitId===e.checkDetail.radUnitId}));if(t>-1){if("PATIENT"===this.$entryType)return this.$isOpenOriginalFnList[t].patient;if("DOCTOR"===this.$entryType)return this.$isOpenOriginalFnList[t].doctor}return!1},reportDescribe:function(){var e="";return this.checkDetail.reportItem&&(e=this.checkDetail.reportItem.describe||""),e},reportDiagnose:function(){var e="";return this.checkDetail.reportItem&&(e=this.checkDetail.reportItem.diagnose||""),e},reportAdvice:function(){var e="";return this.checkDetail.reportItem&&(e=this.checkDetail.reportItem.advice||""),e},reportTime:function(){var e=this.checkDetail.reportItem?this.checkDetail.reportItem.reportTime:"";return Object(i.c)(e)},studyTime:function(){var e=this.checkDetail.studyTime||"";return Object(i.c)(e)},registerTime:function(){var e=this.checkDetail.registerTime||"";return Object(i.c)(e)},hasReport:function(){var e=!1;return this.checkDetail.state>=70&&this.reportTime&&(e=!0),e},hasFilm:function(){var e=!1;return this.checkDetail.state>=50&&(e=!0),e}},methods:{handleTopChange:function(e){this.topStatus=e},handlePay:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.xeguid,a=e.radUnitId,n=e.expireTime,s=e.searchParamA;this.$router.replace({name:"chargePage",query:{xeguId:i,unitId:a,expireTime:n,isExpire:t,searchParamA:s,isScan:r,enterpriseId:e.enterpriseId||""}})},splitStrIntoObj:function(e){var t=e.split("&"),r={};return t.forEach((function(e){var t=e.split("=");r[t[0]]=t[1]})),r}}}},f2ac:function(e,t,r){"use strict";r("acf8")},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);